<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RK Lacy Law — Staff Portal Mockup</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --brand: #2563EB;
    --brand-hover: #1D4ED8;
    --brand-light: #DBEAFE;
    --brand-mid: #93C5FD;
    --brand-subtle: #EFF6FF;
    --accent: #10B981;
    --accent-light: #D1FAE5;
    --warn: #F59E0B;
    --warn-light: #FEF3C7;
    --warn-dark: #92400E;
    --danger: #EF4444;
    --danger-light: #FEE2E2;
    --danger-dark: #991B1B;
    --text: #1E293B;
    --text-secondary: #475569;
    --text-muted: #64748B;
    --text-light: #94A3B8;
    --text-faint: #CBD5E1;
    --border: #E2E8F0;
    --border-hover: #CBD5E1;
    --bg: #F1F5F9;
    --bg-warm: #F8FAFC;
    --surface: #FFFFFF;
    --font: 'DM Sans', -apple-system, sans-serif;
    --mono: 'JetBrains Mono', monospace;
    --radius: 8px;
    --radius-lg: 12px;
    --radius-full: 999px;
    --shadow-sm: 0 1px 2px rgba(0,0,0,.04);
    --shadow: 0 1px 3px rgba(0,0,0,.06), 0 1px 2px rgba(0,0,0,.04);
    --shadow-md: 0 4px 6px -1px rgba(0,0,0,.06), 0 2px 4px -2px rgba(0,0,0,.04);
    --transition: 150ms ease;
  }

  html { height: 100%; }
  body {
    font-family: var(--font);
    background: var(--bg);
    color: var(--text);
    -webkit-font-smoothing: antialiased;
    min-height: 100vh;
  }

  /* ─── Utility Bar ─── */
  .utilbar {
    background: var(--text);
    padding: 0 24px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .utilbar-left { display: flex; gap: 2px; }
  .utilbar-right { display: flex; align-items: center; gap: 8px; }
  .util-link {
    font-size: 11px; font-weight: 500; color: rgba(255,255,255,.6);
    text-decoration: none; padding: 4px 10px; border-radius: var(--radius-full);
    transition: all var(--transition); cursor: pointer;
    display: flex; align-items: center; gap: 4px;
    background: none; border: none; font-family: var(--font);
    position: relative;
  }
  .util-link:hover { color: white; background: rgba(255,255,255,.1); }
  .util-link svg { width: 12px; height: 12px; opacity: .7; }
  .util-search-btn {
    font-size: 11px; font-weight: 600; color: white;
    background: rgba(255,255,255,.12); border: 1px solid rgba(255,255,255,.15);
    padding: 4px 14px; border-radius: var(--radius-full);
    cursor: pointer; font-family: var(--font);
    display: flex; align-items: center; gap: 6px;
    transition: all var(--transition);
  }
  .util-search-btn:hover { background: rgba(255,255,255,.2); }
  .util-search-btn kbd {
    font-family: var(--mono); font-size: 10px;
    background: rgba(255,255,255,.15); padding: 1px 5px;
    border-radius: 3px;
  }
  .util-avatar {
    width: 24px; height: 24px; border-radius: 50%;
    background: var(--brand); color: white;
    display: flex; align-items: center; justify-content: center;
    font-size: 10px; font-weight: 700; cursor: pointer;
    margin-left: 4px;
  }

  /* ─── Important Links Dropdown ─── */
  .important-links-anchor { position: relative; }
  .important-links-dropdown {
    display: none;
    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    width: 380px;
    max-height: 520px;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    box-shadow: 0 12px 28px rgba(0,0,0,.15), 0 4px 10px rgba(0,0,0,.08);
    z-index: 1000;
    overflow: hidden;
    animation: dropIn .15s ease;
  }
  .important-links-dropdown.open { display: flex; flex-direction: column; }
  @keyframes dropIn {
    from { opacity: 0; transform: translateY(-4px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .il-header {
    padding: 14px 16px 10px;
    border-bottom: 1px solid var(--border);
    display: flex; align-items: center; justify-content: space-between;
    flex-shrink: 0;
  }
  .il-header-title { font-size: 13px; font-weight: 700; color: var(--text); }
  .il-edit-btn {
    font-family: var(--font); font-size: 11px; font-weight: 600;
    color: var(--brand); background: var(--brand-subtle);
    border: none; padding: 4px 10px; border-radius: var(--radius);
    cursor: pointer; transition: all var(--transition);
    display: flex; align-items: center; gap: 4px;
  }
  .il-edit-btn:hover { background: var(--brand-light); }
  .il-edit-btn svg { width: 12px; height: 12px; }
  .il-body {
    flex: 1; overflow-y: auto; padding: 8px;
    scrollbar-width: thin;
    scrollbar-color: var(--border) transparent;
  }
  .il-body::-webkit-scrollbar { width: 5px; }
  .il-body::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }
  .il-body::-webkit-scrollbar-track { background: transparent; }
  .il-section-label {
    font-size: 10px; font-weight: 700; color: var(--text-light);
    text-transform: uppercase; letter-spacing: .05em;
    padding: 8px 8px 4px;
  }
  .il-link {
    display: flex; align-items: center; gap: 10px;
    padding: 8px 10px; border-radius: var(--radius);
    text-decoration: none; color: var(--text);
    transition: all var(--transition);
    cursor: pointer;
  }
  .il-link:hover { background: var(--brand-subtle); color: var(--brand); }
  .il-link-icon {
    width: 28px; height: 28px; border-radius: 6px;
    background: var(--bg); display: flex; align-items: center; justify-content: center;
    flex-shrink: 0; font-size: 13px;
  }
  .il-link:hover .il-link-icon { background: var(--brand-light); }
  .il-link-icon svg { width: 14px; height: 14px; color: var(--text-muted); }
  .il-link:hover .il-link-icon svg { color: var(--brand); }
  .il-link-text { font-size: 12px; font-weight: 500; }
  .il-link-url {
    font-size: 10px; color: var(--text-light); font-family: var(--mono);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    max-width: 260px;
  }

  /* ─── Important Links Editor Modal ─── */
  .il-modal-backdrop {
    display: none; position: fixed; inset: 0;
    background: rgba(0,0,0,.4); z-index: 2000;
    align-items: center; justify-content: center;
    animation: fadeIn .15s ease;
  }
  .il-modal-backdrop.open { display: flex; }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  .il-modal {
    background: var(--surface); border-radius: var(--radius-lg);
    width: 540px; max-height: 80vh;
    box-shadow: 0 20px 60px rgba(0,0,0,.2);
    display: flex; flex-direction: column;
    animation: modalIn .2s ease;
  }
  @keyframes modalIn {
    from { opacity: 0; transform: scale(.97) translateY(8px); }
    to { opacity: 1; transform: scale(1) translateY(0); }
  }
  .il-modal-header {
    padding: 18px 20px 14px;
    border-bottom: 1px solid var(--border);
    display: flex; align-items: center; justify-content: space-between;
  }
  .il-modal-title { font-size: 15px; font-weight: 700; color: var(--text); }
  .il-modal-close {
    width: 28px; height: 28px; border-radius: 6px;
    border: 1px solid var(--border); background: var(--surface);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; color: var(--text-muted); font-size: 16px;
    transition: all var(--transition); font-family: var(--font);
  }
  .il-modal-close:hover { background: var(--bg); color: var(--text); }
  .il-modal-body {
    flex: 1; overflow-y: auto; padding: 16px 20px;
    scrollbar-width: thin; scrollbar-color: var(--border) transparent;
  }
  .il-modal-body::-webkit-scrollbar { width: 5px; }
  .il-modal-body::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }
  .il-modal-body::-webkit-scrollbar-track { background: transparent; }
  .il-editor-row {
    display: flex; align-items: center; gap: 8px;
    padding: 8px 0; border-bottom: 1px solid var(--bg);
  }
  .il-editor-row:last-child { border-bottom: none; }
  .il-editor-drag {
    color: var(--text-faint); cursor: grab; flex-shrink: 0;
    display: flex; align-items: center;
  }
  .il-editor-drag svg { width: 14px; height: 14px; }
  .il-editor-fields { flex: 1; display: flex; flex-direction: column; gap: 4px; }
  .il-editor-input {
    font-family: var(--font); font-size: 12px;
    padding: 6px 10px; border: 1px solid var(--border);
    border-radius: 6px; background: var(--bg-warm);
    outline: none; color: var(--text); transition: all var(--transition);
    width: 100%;
  }
  .il-editor-input:focus { border-color: var(--brand); background: var(--surface); box-shadow: 0 0 0 2px var(--brand-light); }
  .il-editor-input.url-input {
    font-family: var(--mono); font-size: 11px; color: var(--text-muted);
  }
  .il-editor-delete {
    width: 28px; height: 28px; border-radius: 6px;
    border: 1px solid transparent; background: transparent;
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; color: var(--text-light); flex-shrink: 0;
    transition: all var(--transition);
  }
  .il-editor-delete:hover { background: var(--danger-light); color: var(--danger); border-color: var(--danger-light); }
  .il-editor-delete svg { width: 14px; height: 14px; }
  .il-modal-footer {
    padding: 12px 20px;
    border-top: 1px solid var(--border);
    display: flex; align-items: center; justify-content: space-between;
  }
  .il-add-btn {
    font-family: var(--font); font-size: 12px; font-weight: 600;
    color: var(--brand); background: transparent;
    border: 1px dashed var(--brand-mid); padding: 6px 14px;
    border-radius: var(--radius); cursor: pointer;
    transition: all var(--transition);
    display: flex; align-items: center; gap: 5px;
  }
  .il-add-btn:hover { background: var(--brand-subtle); }
  .il-add-btn svg { width: 14px; height: 14px; }
  .il-save-btn {
    font-family: var(--font); font-size: 12px; font-weight: 600;
    color: white; background: var(--brand);
    border: none; padding: 7px 18px;
    border-radius: var(--radius); cursor: pointer;
    transition: all var(--transition);
  }
  .il-save-btn:hover { background: var(--brand-hover); }

  /* ─── Main Nav ─── */
  .mainnav {
    background: var(--surface);
    border-bottom: 1px solid var(--border);
    padding: 0 24px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .mainnav-left { display: flex; align-items: center; gap: 20px; }
  .nav-logo {
    display: flex; align-items: center; gap: 9px;
    text-decoration: none; margin-right: 8px;
  }
  .nav-logo .logo-mark {
    width: 32px; height: 32px; border-radius: 8px;
    background: linear-gradient(135deg, #92703A 0%, #B8923E 50%, #D4A843 100%);
    display: flex; align-items: center; justify-content: center;
    color: white; font-size: 15px; font-weight: 800;
    letter-spacing: -.02em;
    box-shadow: 0 1px 3px rgba(146,112,58,.3);
  }
  .nav-logo-text {
    display: flex; flex-direction: column; line-height: 1.15;
  }
  .nav-logo-text .firm { font-size: 14px; font-weight: 700; color: var(--text); letter-spacing: -.01em; }
  .nav-logo-text .sub { font-size: 10px; font-weight: 500; color: var(--text-light); letter-spacing: .02em; text-transform: uppercase; }
  .nav-divider { width: 1px; height: 28px; background: var(--border); }
  .nav-links { display: flex; gap: 2px; }
  .nav-link {
    font-family: var(--font); font-size: 13px; font-weight: 500;
    padding: 8px 14px; border-radius: var(--radius);
    border: none; background: transparent; color: var(--text-muted);
    cursor: pointer; transition: all var(--transition);
    display: flex; align-items: center; gap: 7px;
    text-decoration: none;
  }
  .nav-link:hover { background: var(--bg); color: var(--text-secondary); }
  .nav-link.active { background: var(--brand-subtle); color: var(--brand); }
  .nav-link svg { width: 16px; height: 16px; flex-shrink: 0; }
  .nav-link .nav-badge {
    font-size: 10px; font-weight: 700; background: var(--danger);
    color: white; padding: 1px 6px; border-radius: var(--radius-full);
    min-width: 18px; text-align: center;
  }

  .mainnav-right { display: flex; align-items: center; gap: 8px; }
  .quick-action {
    font-family: var(--font); font-size: 12px; font-weight: 600;
    padding: 7px 14px; border-radius: var(--radius);
    border: none; cursor: pointer; transition: all var(--transition);
    display: flex; align-items: center; gap: 6px;
  }
  .quick-action.primary {
    background: var(--brand); color: white;
  }
  .quick-action.primary:hover { background: var(--brand-hover); }
  .quick-action.secondary {
    background: var(--surface); color: var(--text-secondary);
    border: 1px solid var(--border);
  }
  .quick-action.secondary:hover { background: var(--bg); border-color: var(--border-hover); }
  .quick-action svg { width: 14px; height: 14px; }

  /* ─── Page Content ─── */
  .page-content {
    padding: 24px;
    display: grid;
    grid-template-columns: 1fr 1fr 380px;
    gap: 20px;
    max-width: 1600px;
    margin: 0 auto;
    animation: fadeUp .3s ease both;
  }
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(6px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* ─── Panel Cards ─── */
  .panel {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    display: flex;
    flex-direction: column;
    max-height: calc(100vh - 145px);
  }
  .panel-header {
    padding: 16px 18px 12px;
    border-bottom: 1px solid var(--border);
    flex-shrink: 0;
  }
  .panel-title {
    font-size: 14px; font-weight: 700; color: var(--text);
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 10px;
  }
  .panel-title .panel-count {
    font-size: 11px; font-weight: 500; color: var(--text-light);
    background: var(--bg); padding: 2px 8px; border-radius: var(--radius-full);
  }
  .panel-search {
    width: 100%; font-family: var(--font); font-size: 12px;
    padding: 8px 12px 8px 32px; border: 1px solid var(--border);
    border-radius: var(--radius); background: var(--bg-warm);
    outline: none; color: var(--text); transition: all var(--transition);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='13' height='13' viewBox='0 0 24 24' fill='none' stroke='%2394A3B8' stroke-width='2' stroke-linecap='round'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 10px center;
  }
  .panel-search:focus { border-color: var(--brand); background: var(--surface); box-shadow: 0 0 0 2px var(--brand-light); }
  .panel-body {
    flex: 1; overflow-y: auto; padding: 6px;
    scrollbar-width: thin;
    scrollbar-color: var(--border) transparent;
  }

  /* ─── Case Note / Comm Cards ─── */
  .note-card {
    padding: 14px 14px;
    border-radius: var(--radius);
    cursor: pointer;
    transition: all var(--transition);
    border: 1px solid transparent;
    margin-bottom: 2px;
  }
  .note-card:hover { background: var(--brand-subtle); border-color: var(--brand-light); }
  .note-card.unread { background: var(--brand-subtle); border-color: var(--brand-light); }
  .note-card-header {
    display: flex; align-items: flex-start; justify-content: space-between;
    margin-bottom: 6px;
  }
  .note-card-name { font-size: 13px; font-weight: 600; color: var(--text); }
  .note-card-time { font-size: 11px; color: var(--text-light); white-space: nowrap; margin-left: 8px; }
  .note-card-type {
    font-size: 11px; font-weight: 500; color: var(--text-muted);
    margin-bottom: 5px;
  }
  .note-card-preview {
    font-size: 12px; color: var(--text-muted); line-height: 1.5;
    display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
    overflow: hidden;
  }
  .note-card-tags { display: flex; gap: 4px; margin-top: 8px; flex-wrap: wrap; }
  .tag {
    font-size: 10px; font-weight: 600; padding: 2px 8px;
    border-radius: var(--radius-full); letter-spacing: .01em;
  }
  .tag-blue { background: var(--brand-light); color: #1E40AF; }
  .tag-green { background: var(--accent-light); color: #065F46; }
  .tag-amber { background: var(--warn-light); color: var(--warn-dark); }
  .tag-red { background: var(--danger-light); color: var(--danger-dark); }
  .tag-outline { background: transparent; border: 1px solid var(--border); color: var(--text-muted); }

  .comm-icon {
    display: inline-flex; align-items: center; gap: 4px;
    font-size: 11px; color: var(--text-light); margin-bottom: 5px;
  }
  .comm-icon svg { width: 12px; height: 12px; }

  .note-divider {
    height: 1px; background: var(--border); margin: 2px 14px;
  }

  /* ─── Calendar Panel ─── */
  .cal-panel-header {
    padding: 14px 18px;
    border-bottom: 1px solid var(--border);
    flex-shrink: 0;
  }
  .cal-date-row {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 10px;
  }
  .cal-date-title {
    font-size: 14px; font-weight: 700; color: var(--text);
  }
  .cal-date-sub { font-size: 11px; color: var(--text-light); font-weight: 400; margin-top: 1px; }
  .cal-nav { display: flex; align-items: center; gap: 4px; }
  .cal-nav-btn {
    width: 28px; height: 28px; border-radius: 6px;
    border: 1px solid var(--border); background: var(--surface);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; color: var(--text-muted); font-size: 13px;
    transition: all var(--transition); font-family: var(--font);
  }
  .cal-nav-btn:hover { background: var(--bg); }
  .cal-today-btn {
    font-family: var(--font); font-size: 11px; font-weight: 600;
    padding: 4px 10px; border-radius: 6px;
    border: 1px solid var(--border); background: var(--surface);
    color: var(--text-secondary); cursor: pointer;
    transition: all var(--transition);
  }
  .cal-today-btn:hover { background: var(--bg); }
  .cal-search {
    width: 100%; font-family: var(--font); font-size: 12px;
    padding: 7px 12px 7px 30px; border: 1px solid var(--border);
    border-radius: var(--radius); background: var(--bg-warm);
    outline: none; color: var(--text); transition: all var(--transition);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%2394A3B8' stroke-width='2' stroke-linecap='round'%3E%3Ccircle cx='11' cy='11' r='8'/%3E%3Cline x1='21' y1='21' x2='16.65' y2='16.65'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 10px center;
  }
  .cal-search:focus { border-color: var(--brand); background: var(--surface); box-shadow: 0 0 0 2px var(--brand-light); }

  .cal-body {
    flex: 1; overflow-y: auto; position: relative;
    scrollbar-width: thin;
    scrollbar-color: var(--border) transparent;
  }
  .cal-grid {
    position: relative;
  }
  .cal-hour-row {
    display: flex; align-items: flex-start;
    min-height: 52px;
    border-bottom: 1px solid var(--bg);
  }
  .cal-hour-label {
    width: 52px; flex-shrink: 0;
    font-size: 10px; font-weight: 500; color: var(--text-light);
    text-align: right; padding: 2px 10px 0 0;
    font-family: var(--mono);
  }
  .cal-hour-content {
    flex: 1; min-height: 52px; position: relative;
    border-left: 1px solid var(--border);
    padding: 2px 8px;
  }

  .cal-event {
    padding: 6px 10px; border-radius: 6px;
    margin-bottom: 3px; cursor: pointer;
    transition: all var(--transition);
    border-left: 3px solid;
  }
  .cal-event:hover { transform: translateX(2px); }
  .cal-event.blue { background: var(--brand-subtle); border-color: var(--brand); }
  .cal-event.green { background: #ECFDF5; border-color: var(--accent); }
  .cal-event.amber { background: var(--warn-light); border-color: var(--warn); }
  .cal-event.red { background: var(--danger-light); border-color: var(--danger); }
  .cal-event-name { font-size: 12px; font-weight: 600; color: var(--text); }
  .cal-event-detail { font-size: 10px; color: var(--text-muted); margin-top: 1px; }

  .cal-now-line {
    position: absolute; left: 52px; right: 0;
    height: 2px; background: var(--danger);
    z-index: 5; pointer-events: none;
  }
  .cal-now-line::before {
    content: ''; position: absolute; left: -4px; top: -3px;
    width: 8px; height: 8px; border-radius: 50%;
    background: var(--danger);
  }

  /* ─── Scrollbar ─── */
  .panel-body::-webkit-scrollbar,
  .cal-body::-webkit-scrollbar { width: 5px; }
  .panel-body::-webkit-scrollbar-thumb,
  .cal-body::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }
  .panel-body::-webkit-scrollbar-track,
  .cal-body::-webkit-scrollbar-track { background: transparent; }

  /* ─── Mockup Label ─── */
  .mockup-label {
    position: fixed; bottom: 14px; right: 14px;
    background: var(--text); color: white;
    font-size: 10px; font-weight: 700; letter-spacing: .06em;
    padding: 5px 12px; border-radius: var(--radius-full);
    opacity: .5; pointer-events: none; text-transform: uppercase;
    z-index: 200;
  }
</style>
</head>
<body>

<!-- ─── Utility Bar ─── -->
<div class="utilbar">
  <div class="utilbar-left">
    <div class="important-links-anchor">
      <button class="util-link" id="importantLinksBtn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg>
        Important Links
      </button>
      <!-- Important Links Dropdown -->
      <div class="important-links-dropdown" id="importantLinksDropdown">
        <div class="il-header">
          <span class="il-header-title">Important Links</span>
          <button class="il-edit-btn" id="ilEditBtn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
            Edit Links
          </button>
        </div>
        <div class="il-body" id="importantLinksBody">
          <!-- Links rendered by JS -->
        </div>
      </div>
    </div>
    <button class="util-link">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 8v4l3 3"/></svg>
      Tech Support
    </button>
    <button class="util-link">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
      Kenect
    </button>
    <button class="util-link">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2z"/><path d="M22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"/></svg>
      Case Notes
    </button>
  </div>
  <div class="utilbar-right">
    <button class="util-search-btn">
      <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
      Quick Search
      <kbd>⌘K</kbd>
    </button>
    <div class="util-avatar">RL</div>
  </div>
</div>

<!-- ─── Main Nav ─── -->
<div class="mainnav">
  <div class="mainnav-left">
    <a class="nav-logo" href="#">
      <div class="logo-mark">A</div>
      <div class="nav-logo-text">
        <span class="firm">RK Lacy Law</span>
        <span class="sub">Amino Immigration</span>
      </div>
    </a>
    <div class="nav-divider"></div>
    <div class="nav-links">
      <button class="nav-link active">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        Home
      </button>
      <button class="nav-link">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
        Clients
      </button>
      <button class="nav-link">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
        Calendar
      </button>
      <button class="nav-link">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
        Communications
        <span class="nav-badge">3</span>
      </button>
    </div>
  </div>
  <div class="mainnav-right">
    <button class="quick-action secondary">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="12" y1="18" x2="12" y2="12"/><line x1="9" y1="15" x2="15" y2="15"/></svg>
      New Case Note
    </button>
    <button class="quick-action primary">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="12" y1="9" x2="12" y2="17"/><line x1="8" y1="13" x2="16" y2="13"/></svg>
      New Event
    </button>
  </div>
</div>

<!-- ─── Three-Column Layout ─── -->
<div class="page-content">

  <!-- COLUMN 1: Latest Case Notes -->
  <div class="panel">
    <div class="panel-header">
      <div class="panel-title">
        Latest Case Notes
        <span class="panel-count">Today: 12</span>
      </div>
      <input type="text" class="panel-search" placeholder="Search case notes...">
    </div>
    <div class="panel-body">

      <div class="note-card">
        <div class="note-card-header">
          <span class="note-card-name">Maria Rodriguez</span>
          <span class="note-card-time">12 min ago</span>
        </div>
        <div class="note-card-type">Individual Hearing Prep</div>
        <div class="note-card-preview">Reviewed evidence packet with client. She confirmed employment records from 2019–2022 are accurate. Still need to obtain updated medical documentation from Dr. Patel before the hearing date.</div>
        <div class="note-card-tags">
          <span class="tag tag-blue">C. Vega</span>
          <span class="tag tag-amber">Hearing Feb 11</span>
        </div>
      </div>
      <div class="note-divider"></div>

      <div class="note-card">
        <div class="note-card-header">
          <span class="note-card-name">Carmen Fuentes</span>
          <span class="note-card-time">38 min ago</span>
        </div>
        <div class="note-card-type">Filing Update</div>
        <div class="note-card-preview">I-589 application finalized. Attached supporting country conditions report and declaration. Filing with court by end of week. Client signed all forms.</div>
        <div class="note-card-tags">
          <span class="tag tag-blue">C. Vega</span>
          <span class="tag tag-red">Deadline Mar 3</span>
        </div>
      </div>
      <div class="note-divider"></div>

      <div class="note-card">
        <div class="note-card-header">
          <span class="note-card-name">Pedro Garcia</span>
          <span class="note-card-time">1 hr ago</span>
        </div>
        <div class="note-card-type">USCIS Interview Prep</div>
        <div class="note-card-preview">Mock interview conducted. Client is well-prepared on timeline questions but needs coaching on describing the 2021 incident. Follow-up session scheduled for Thursday.</div>
        <div class="note-card-tags">
          <span class="tag tag-blue">A. Mishra</span>
          <span class="tag tag-outline">ICH</span>
        </div>
      </div>
      <div class="note-divider"></div>

      <div class="note-card">
        <div class="note-card-header">
          <span class="note-card-name">Jorge Lopez</span>
          <span class="note-card-time">2 hrs ago</span>
        </div>
        <div class="note-card-type">Master Calendar Follow-up</div>
        <div class="note-card-preview">Judge Chen granted continuance until April 15. Next master calendar set. Client needs to update address with court — currently shows old Antioch address.</div>
        <div class="note-card-tags">
          <span class="tag tag-blue">R.K. Lacy</span>
          <span class="tag tag-outline">MCH</span>
        </div>
      </div>
      <div class="note-divider"></div>

      <div class="note-card">
        <div class="note-card-header">
          <span class="note-card-name">Ana Santos</span>
          <span class="note-card-time">3 hrs ago</span>
        </div>
        <div class="note-card-type">Document Collection</div>
        <div class="note-card-preview">Client submitted birth certificates for both children and marriage certificate translation. Still awaiting notarized affidavit from sister in Guatemala.</div>
        <div class="note-card-tags">
          <span class="tag tag-blue">M. Viera Lugo</span>
          <span class="tag tag-green">On Track</span>
        </div>
      </div>
      <div class="note-divider"></div>

      <div class="note-card">
        <div class="note-card-header">
          <span class="note-card-name">Lucia Morales</span>
          <span class="note-card-time">4 hrs ago</span>
        </div>
        <div class="note-card-type">Missed Deadline Review</div>
        <div class="note-card-preview">Motion to reopen filed after missed Jan 28 deadline. Attached good cause explanation citing client medical emergency. Awaiting court response.</div>
        <div class="note-card-tags">
          <span class="tag tag-blue">N. Rafi</span>
          <span class="tag tag-red">Overdue</span>
        </div>
      </div>

    </div>
  </div>

  <!-- COLUMN 2: Latest Communications -->
  <div class="panel">
    <div class="panel-header">
      <div class="panel-title">
        Latest Communications
        <span class="panel-count">Unread: 3</span>
      </div>
      <input type="text" class="panel-search" placeholder="Search communications...">
    </div>
    <div class="panel-body">

      <div class="note-card unread">
        <div class="note-card-header">
          <span class="note-card-name">Maria Rodriguez</span>
          <span class="note-card-time">8 min ago</span>
        </div>
        <div class="comm-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6A19.79 19.79 0 012.12 4.18 2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.362 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.338 1.85.573 2.81.7A2 2 0 0122 16.92z"/></svg>
          Incoming Call · Kenect
        </div>
        <div class="note-card-preview">Client called asking about today's hearing time. Confirmed 2:00 PM at Immigration Court. Reminded her to bring original passport and all evidence copies.</div>
        <div class="note-card-tags">
          <span class="tag tag-amber">Unread</span>
          <span class="tag tag-outline">C. Vega</span>
        </div>
      </div>
      <div class="note-divider"></div>

      <div class="note-card unread">
        <div class="note-card-header">
          <span class="note-card-name">Pedro Garcia</span>
          <span class="note-card-time">45 min ago</span>
        </div>
        <div class="comm-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
          Text Message · Kenect
        </div>
        <div class="note-card-preview">Buenos días, quería confirmar mi cita del jueves. ¿A qué hora debo llegar? Gracias.</div>
        <div class="note-card-tags">
          <span class="tag tag-amber">Unread</span>
          <span class="tag tag-outline">A. Mishra</span>
        </div>
      </div>
      <div class="note-divider"></div>

      <div class="note-card unread">
        <div class="note-card-header">
          <span class="note-card-name">USCIS Nashville</span>
          <span class="note-card-time">1 hr ago</span>
        </div>
        <div class="comm-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          Email
        </div>
        <div class="note-card-preview">RE: Case A# 445-221-887 (Santos). Interview rescheduled from Feb 11 to Feb 25 due to officer availability. Updated notice attached.</div>
        <div class="note-card-tags">
          <span class="tag tag-amber">Unread</span>
          <span class="tag tag-outline">M. Viera Lugo</span>
        </div>
      </div>
      <div class="note-divider"></div>

      <div class="note-card">
        <div class="note-card-header">
          <span class="note-card-name">Carmen Fuentes</span>
          <span class="note-card-time">3 hrs ago</span>
        </div>
        <div class="comm-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
          Text Message · Kenect
        </div>
        <div class="note-card-preview">Sent follow-up reminder about signing remaining forms. Client confirmed she'll come in tomorrow at 10 AM with missing documents.</div>
        <div class="note-card-tags">
          <span class="tag tag-green">Replied</span>
          <span class="tag tag-outline">C. Vega</span>
        </div>
      </div>
      <div class="note-divider"></div>

      <div class="note-card">
        <div class="note-card-header">
          <span class="note-card-name">Diego Wilder</span>
          <span class="note-card-time">5 hrs ago</span>
        </div>
        <div class="comm-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6A19.79 19.79 0 012.12 4.18 2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.362 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.338 1.85.573 2.81.7A2 2 0 0122 16.92z"/></svg>
          Outgoing Call
        </div>
        <div class="note-card-preview">Called client to discuss initial consultation findings. Discussed eligibility for asylum claim. Client will gather documentation from home country contacts.</div>
        <div class="note-card-tags">
          <span class="tag tag-green">Completed</span>
          <span class="tag tag-outline">R.K. Lacy</span>
        </div>
      </div>
      <div class="note-divider"></div>

      <div class="note-card">
        <div class="note-card-header">
          <span class="note-card-name">Roberto Aguilar</span>
          <span class="note-card-time">Yesterday</span>
        </div>
        <div class="comm-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
          Email
        </div>
        <div class="note-card-preview">Sent case closure summary and final invoice. Client acknowledged receipt and expressed thanks. File can be moved to closed status.</div>
        <div class="note-card-tags">
          <span class="tag tag-outline">A. Bahr</span>
          <span class="tag tag-outline">Closed</span>
        </div>
      </div>

    </div>
  </div>

  <!-- COLUMN 3: Daily Hearings & Interviews -->
  <div class="panel">
    <div class="cal-panel-header">
      <div class="cal-date-row">
        <div>
          <div class="cal-date-title">Daily Hearings & Interviews</div>
          <div class="cal-date-sub">Wednesday, February 11, 2026</div>
        </div>
        <div class="cal-nav">
          <button class="cal-today-btn">Today</button>
          <button class="cal-nav-btn">&#8249;</button>
          <button class="cal-nav-btn">&#8250;</button>
        </div>
      </div>
      <input type="text" class="cal-search" placeholder="Search hearings...">
    </div>
    <div class="cal-body">
      <div class="cal-grid">

        <div class="cal-hour-row"><div class="cal-hour-label">7 AM</div><div class="cal-hour-content"></div></div>
        <div class="cal-hour-row"><div class="cal-hour-label">8 AM</div><div class="cal-hour-content"></div></div>
        <div class="cal-hour-row">
          <div class="cal-hour-label">9 AM</div>
          <div class="cal-hour-content">
            <div class="cal-event green">
              <div class="cal-event-name">Staff Meeting</div>
              <div class="cal-event-detail">Office · All attorneys · 9:00–9:30</div>
            </div>
          </div>
        </div>
        <div class="cal-hour-row"><div class="cal-hour-label">10 AM</div><div class="cal-hour-content"></div></div>
        <div class="cal-hour-row"><div class="cal-hour-label">11 AM</div><div class="cal-hour-content"></div></div>
        <div class="cal-hour-row"><div class="cal-hour-label">12 PM</div><div class="cal-hour-content"></div></div>
        <div class="cal-hour-row"><div class="cal-hour-label">1 PM</div><div class="cal-hour-content"></div></div>
        <div class="cal-hour-row">
          <div class="cal-hour-label">2 PM</div>
          <div class="cal-hour-content">
            <div class="cal-event blue">
              <div class="cal-event-name">Maria Rodriguez — Individual Hearing</div>
              <div class="cal-event-detail">Immigration Court · Judge Williams · C. Vega</div>
            </div>
          </div>
        </div>
        <div class="cal-hour-row">
          <div class="cal-hour-label">3 PM</div>
          <div class="cal-hour-content">
            <div class="cal-event blue">
              <div class="cal-event-name">Jorge Lopez — Master Calendar</div>
              <div class="cal-event-detail">Immigration Court · Judge Chen · R.K. Lacy</div>
            </div>
          </div>
        </div>
        <div class="cal-hour-row">
          <div class="cal-hour-label">4 PM</div>
          <div class="cal-hour-content">
            <div class="cal-event amber">
              <div class="cal-event-name">Ana Santos — USCIS Interview</div>
              <div class="cal-event-detail">Nashville Field Office · M. Viera Lugo</div>
            </div>
          </div>
        </div>
        <div class="cal-hour-row"><div class="cal-hour-label">5 PM</div><div class="cal-hour-content"></div></div>
        <div class="cal-hour-row"><div class="cal-hour-label">6 PM</div><div class="cal-hour-content"></div></div>
        <div class="cal-hour-row"><div class="cal-hour-label">7 PM</div><div class="cal-hour-content"></div></div>

        <!-- Current time line -->
        <div class="cal-now-line" style="top: calc(52px * 8 + 20px);"></div>

      </div>
    </div>
  </div>

</div>

<!-- ─── Important Links Editor Modal ─── -->
<div class="il-modal-backdrop" id="ilModalBackdrop">
  <div class="il-modal">
    <div class="il-modal-header">
      <span class="il-modal-title">Edit Important Links</span>
      <button class="il-modal-close" id="ilModalClose">&times;</button>
    </div>
    <div class="il-modal-body" id="ilModalBody">
      <!-- Editor rows rendered by JS -->
    </div>
    <div class="il-modal-footer">
      <button class="il-add-btn" id="ilAddBtn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
        Add Link
      </button>
      <button class="il-save-btn" id="ilSaveBtn">Save Changes</button>
    </div>
  </div>
</div>

<div class="mockup-label">Mockup · Not Live</div>

<script>
  // ─── Default Important Links (pulled from existing site) ─── //
  const DEFAULT_LINKS = [
    { section: "External Services", name: "Airtable", url: "https://airtable.com/app1tsUyKa7F3sy0D/tbl1GpkHMkjxZ1n7E/viwt2aKDTuoFgQJRn?blocks=hide" },
    { section: "External Services", name: "Invoiced", url: "https://app.invoiced.com/dashboard" },
    { section: "External Services", name: "RingCentral", url: "https://www.app.ringcentral.com" },
    { section: "External Services", name: "Kenect", url: "https://app.kenect.com/inbox" },
    { section: "External Services", name: "Trustbooks", url: "https://trustbooks.com/" },
    { section: "External Services", name: "BOX", url: "https://app.box.com/folder/155444719812?s=ytaxdfiieldlhv3yq8qd88mfuaesemjs" },
    { section: "Government Portals", name: "EOIR Attorney Portal", url: "https://doj-login-ext.okta-gov.com/app/template_wsfed/exkdyoa8bCIn30jMk0j6/sso/wsfed/passive?wa=wsignin1.0&wtrealm=https%3a%2f%2fcase-access.eoir.justice.gov&wctx=rm%3d0%26id%3dpassive%26ru%3d%252f&wct=2025-02-17T21%3a21%3a24Z&wreply=https%3a%2f%2fcase-access.eoir.justice.gov%2fdisclaimer" },
    { section: "Government Portals", name: "EOIR Case Status", url: "https://acis.eoir.justice.gov/en/" },
    { section: "Government Portals", name: "NVC CEAC", url: "https://ceac.state.gov/IV/Login.aspx" },
    { section: "Government Portals", name: "ICE Locator", url: "https://locator.ice.gov" },
    { section: "Government Portals", name: "VA Criminal Case Lookup", url: "https://eapps.courts.state.va.us/ocis/landing" },
    { section: "Forms & Intake", name: "Engagement Intake", url: "https://airtable.com/app1tsUyKa7F3sy0D/pagBQ8RNwFGkyHoDx?MWAd9=rec1wKaYdaGUcpban" }
  ];

  // ─── State ─── //
  let importantLinks = loadLinks();

  function loadLinks() {
    try {
      const saved = localStorage.getItem('amino_important_links');
      if (saved) return JSON.parse(saved);
    } catch (e) { /* ignore */ }
    return JSON.parse(JSON.stringify(DEFAULT_LINKS));
  }

  function saveLinks(links) {
    localStorage.setItem('amino_important_links', JSON.stringify(links));
    importantLinks = links;
  }

  // ─── Icons by section ─── //
  function sectionIcon(section) {
    if (section.toLowerCase().includes('government')) {
      return '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 21h18"/><path d="M5 21V7l7-4 7 4v14"/><path d="M9 21v-4h6v4"/></svg>';
    }
    if (section.toLowerCase().includes('form') || section.toLowerCase().includes('intake')) {
      return '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>';
    }
    return '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/></svg>';
  }

  // ─── Render Dropdown ─── //
  function renderLinksDropdown() {
    const body = document.getElementById('importantLinksBody');
    if (!body) return;

    const sections = {};
    importantLinks.forEach(link => {
      const sec = link.section || 'General';
      if (!sections[sec]) sections[sec] = [];
      sections[sec].push(link);
    });

    let html = '';
    for (const [section, links] of Object.entries(sections)) {
      html += '<div class="il-section-label">' + escapeHtml(section) + '</div>';
      links.forEach(link => {
        const displayUrl = link.url.length > 45 ? link.url.substring(0, 45) + '...' : link.url;
        html += '<a class="il-link" href="' + escapeAttr(link.url) + '" target="_blank" rel="noopener">';
        html += '<div class="il-link-icon">' + sectionIcon(section) + '</div>';
        html += '<div>';
        html += '<div class="il-link-text">' + escapeHtml(link.name) + '</div>';
        html += '<div class="il-link-url">' + escapeHtml(displayUrl) + '</div>';
        html += '</div>';
        html += '</a>';
      });
    }
    body.innerHTML = html;
  }

  // ─── Render Editor Modal ─── //
  function renderEditor() {
    const body = document.getElementById('ilModalBody');
    if (!body) return;

    let html = '';
    importantLinks.forEach((link, i) => {
      html += '<div class="il-editor-row" data-index="' + i + '">';
      html += '<div class="il-editor-drag"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="9" cy="6" r="1"/><circle cx="15" cy="6" r="1"/><circle cx="9" cy="12" r="1"/><circle cx="15" cy="12" r="1"/><circle cx="9" cy="18" r="1"/><circle cx="15" cy="18" r="1"/></svg></div>';
      html += '<div class="il-editor-fields">';
      html += '<input class="il-editor-input name-input" type="text" value="' + escapeAttr(link.name) + '" placeholder="Link name" data-index="' + i + '" data-field="name">';
      html += '<input class="il-editor-input url-input" type="text" value="' + escapeAttr(link.url) + '" placeholder="https://..." data-index="' + i + '" data-field="url">';
      html += '<input class="il-editor-input" type="text" value="' + escapeAttr(link.section || '') + '" placeholder="Section (e.g. External Services)" data-index="' + i + '" data-field="section">';
      html += '</div>';
      html += '<button class="il-editor-delete" data-index="' + i + '"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"/></svg></button>';
      html += '</div>';
    });
    body.innerHTML = html;
  }

  // ─── Helpers ─── //
  function escapeHtml(str) {
    const div = document.createElement('div');
    div.textContent = str;
    return div.innerHTML;
  }
  function escapeAttr(str) {
    return str.replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
  }

  // ─── Event Handlers ─── //
  document.addEventListener('DOMContentLoaded', () => {
    const calBody = document.querySelector('.cal-body');
    if (calBody) {
      setTimeout(() => calBody.scrollTop = 52 * 5, 100);
    }

    renderLinksDropdown();

    // Toggle dropdown
    const btn = document.getElementById('importantLinksBtn');
    const dropdown = document.getElementById('importantLinksDropdown');
    btn.addEventListener('click', (e) => {
      e.stopPropagation();
      dropdown.classList.toggle('open');
    });

    // Close dropdown on outside click
    document.addEventListener('click', (e) => {
      if (!dropdown.contains(e.target) && e.target !== btn) {
        dropdown.classList.remove('open');
      }
    });

    // Open editor modal
    const editBtn = document.getElementById('ilEditBtn');
    const modalBackdrop = document.getElementById('ilModalBackdrop');
    editBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      dropdown.classList.remove('open');
      renderEditor();
      modalBackdrop.classList.add('open');
    });

    // Close modal
    document.getElementById('ilModalClose').addEventListener('click', () => {
      modalBackdrop.classList.remove('open');
    });
    modalBackdrop.addEventListener('click', (e) => {
      if (e.target === modalBackdrop) modalBackdrop.classList.remove('open');
    });

    // Add link
    document.getElementById('ilAddBtn').addEventListener('click', () => {
      importantLinks.push({ section: 'General', name: '', url: '' });
      renderEditor();
      // Scroll to bottom
      const body = document.getElementById('ilModalBody');
      body.scrollTop = body.scrollHeight;
    });

    // Delete link
    document.getElementById('ilModalBody').addEventListener('click', (e) => {
      const deleteBtn = e.target.closest('.il-editor-delete');
      if (deleteBtn) {
        const idx = parseInt(deleteBtn.dataset.index, 10);
        importantLinks.splice(idx, 1);
        renderEditor();
      }
    });

    // Save
    document.getElementById('ilSaveBtn').addEventListener('click', () => {
      // Read all values from inputs
      const rows = document.querySelectorAll('.il-editor-row');
      const updated = [];
      rows.forEach(row => {
        const idx = parseInt(row.dataset.index, 10);
        const nameInput = row.querySelector('.name-input');
        const urlInput = row.querySelector('.url-input');
        const sectionInput = row.querySelector('input[data-field="section"]');
        if (nameInput && urlInput) {
          updated.push({
            name: nameInput.value.trim(),
            url: urlInput.value.trim(),
            section: sectionInput ? sectionInput.value.trim() : 'General'
          });
        }
      });
      // Filter out empty entries
      const filtered = updated.filter(l => l.name && l.url);
      saveLinks(filtered);
      renderLinksDropdown();
      modalBackdrop.classList.remove('open');
    });

    // Live update on input change
    document.getElementById('ilModalBody').addEventListener('input', (e) => {
      const input = e.target;
      if (input.classList.contains('il-editor-input')) {
        const idx = parseInt(input.dataset.index, 10);
        const field = input.dataset.field;
        if (importantLinks[idx] && field) {
          importantLinks[idx][field] = input.value;
        }
      }
    });
  });
</script>
</body>
</html>
